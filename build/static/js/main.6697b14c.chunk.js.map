{"version":3,"sources":["components/Person.js","components/Filter.js","components/PersonForm.js","services/phonebook.js","components/Notification.js","App.js","index.js"],"names":["Person","_ref","name","number","delHandler","id","react_default","a","createElement","Fragment","onClick","Filter","filter","handleChange","value","onChange","PersonForm","submit","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","baseUrl","phonebook","axios","get","then","response","data","newPerson","post","delete","concat","put","Notification","message","className","_ref2","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","errorMessage","setErrorMessage","_useState11","_useState12","successMessage","setSuccessMessage","useEffect","PhonebookService","initialPeople","peopleToShow","p","includes","components_Filter","event","target","components_PersonForm","preventDefault","person","find","window","confirm","returnedPerson","map","setTimeout","catch","error","console","log","components_Person","key","res","deletePerson","style","color","fontStyle","position","bottom","fontSize","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.6697b14c.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ name, number, id, delHandler }) =>\n    <>{name} {number}\n        <button onClick={delHandler}>delete</button>\n        <br />\n    </>\n\nexport default Person","import React from 'react'\n\nconst Filter = ({ filter, handleChange }) =>\n    <div>\n        filter shown with <input\n            value={filter}\n            onChange={handleChange}\n            />\n    </div>\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ submit, newName, newNumber, handleNameChange, handleNumberChange}) =>\n    <form onSubmit={submit}>\n    <div>\n        name: <input \n        value={newName}\n        onChange={handleNameChange}\n        />\n    </div>\n    <div>\n        number: <input\n        value={newNumber}\n        onChange={handleNumberChange}\n        />\n    </div>\n    <div>\n        <button type=\"submit\">add</button>\n    </div>\n    </form>\n\nexport default PersonForm","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newPerson => {\n    const request = axios.post(baseUrl, newPerson)\n    return request.then(response => response.data)\n}\n\nconst delPerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst updateNumber = (id, newPerson) => {\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\n    return request.then(response => response.data)\n}\n\nexport default {\n    getAll,\n    create,\n    delPerson,\n    updateNumber\n}","import React from 'react'\n\nconst ErrorNotification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"notify notify-error\">\n            {message}\n        </div>\n    )\n}\n\nconst SuccessNotification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"notify notify-success\">\n            {message}\n        </div>\n    )\n}\nexport default {\n    ErrorNotification,\n    SuccessNotification\n}","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport PhonebookService from './services/phonebook'\nimport Notifications from './components/Notification'\n\nconst App = () => {\n    const [ persons, setPersons ] = useState([])\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n    const [ filter, setFilter ] = useState('')\n    const [ errorMessage, setErrorMessage ] = useState(null)\n    const [ successMessage, setSuccessMessage ] = useState(null)\n\n    useEffect(() => {\n        PhonebookService\n            .getAll()\n            .then(initialPeople => {\n                setPersons(initialPeople)\n            })\n    },[])\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        const newPerson = {\n            name: newName,\n            number: newNumber\n        }\n\n        const person = persons.find(p => p.name === newName)\n\n        if (person) {\n            // Person already exists\n            if (window.confirm(\n                `${newName} is already added to the phonebook, replace the old number with a new one?`\n                )) {\n                PhonebookService\n                    .updateNumber(person.id, newPerson)\n                    .then(returnedPerson => {\n                        setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\n                        setSuccessMessage(\n                            `Updated the number for '${newPerson.name}'`\n                        )\n                        setTimeout( () => {\n                            setSuccessMessage(null)\n                        }, 2000)\n                    })\n                    .catch(error => {\n                        console.log(error.response.data)\n                        if (error.response.data.error) {\n                            setErrorMessage(error.response.data.error)\n                        } else {\n                            setErrorMessage(\n                                `'${person.name}' was not found on the server`\n                                )\n                            setPersons(persons.filter(p => p.id !== person.id))\n                        }\n                        setTimeout(() => {\n                            setErrorMessage(null)\n                        }, 5000)\n                    })\n            }\n        } else {\n            PhonebookService\n                .create(newPerson)\n                .then(returnedPerson => {\n                    setPersons(persons.concat(returnedPerson))\n                    setSuccessMessage(\n                        `Added '${newPerson.name}'`\n                    )\n                    setTimeout( () => {\n                        setSuccessMessage(null)\n                    }, 2000)\n                })\n                .catch(error => {\n                    if (error.response.data.error) {\n                        setErrorMessage(error.response.data.error)\n                    } else {\n                        setErrorMessage(error.message)\n                    }\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                })\n            setNewName('')\n            setNewNumber('')\n        }\n    }\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n\n    const handleFilterChange = (event) => {\n        setFilter(event.target.value)\n    }\n\n    const peopleToShow = persons.filter(p => p.name.includes(filter))\n\n    const deletePerson = person => {\n        const name = person.name\n        const id = person.id\n        if (window.confirm('Delete ' + name + '?')) {\n            PhonebookService\n                .delPerson(id)\n                .catch(error => {\n                    setErrorMessage(\n                        `${name} was already deleted from server`\n                    )\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                })\n                .then(res => {\n                    setPersons(persons.filter(p => p.id !== id))\n                })\n        }\n    }\n        \n\n    const Footer = () => {\n        const footerStyle = {\n            color: 'green',\n            fontStyle: 'italic',\n            position: 'absolute',\n            bottom: 0,\n            fontSize: 16\n        }\n\n        return (\n            <div style={footerStyle}>\n                <br />\n                <em>a simple little phonebook</em>\n            </div>\n        )\n    }\n\n    return (\n        <div>\n            <h1>Phonebook</h1>\n            <Notifications.ErrorNotification message={errorMessage} />\n            <Notifications.SuccessNotification message={successMessage} />\n            <Filter filter={filter} handleChange={handleFilterChange} />\n            <h3>add a new</h3>\n            <PersonForm\n                newName={newName}\n                newNumber={newNumber}\n                handleNameChange={handleNameChange}\n                handleNumberChange={handleNumberChange}\n                submit={addPerson}\n                />\n            <h3>Numbers</h3>\n            <div>\n                {peopleToShow.map( p => \n                <Person\n                    key={p.id}\n                    number={p.number}\n                    name={p.name}\n                    delHandler={() => deletePerson(p)} />\n                )}\n            </div>\n            <Footer />\n        </div>\n    )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}